<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<title>오킹의 맥체인 성경읽기</title>
<style>
  body { font-family: system-ui, -apple-system, sans-serif; font-size: 14px; }
  h1 { font-size: 30px; margin-bottom: 4px; }
  h2 { margin-top: 0; margin-bottom: 4px; }
  h3 { font-size: 35px; color: red; margin-bottom: 6px; }
  p  { margin: 4px 0 10px 0; }

  table {
    border-collapse: collapse;
    margin-bottom: 8px;
    width: 100%;
    max-width: 900px;
    table-layout: fixed;
  }
  th, td {
    border: 1px solid #ccc;
    padding: 3px 5px;
    text-align: center;
  }
  th:first-child,
  td.date {
    width: 40px;
    text-align: center;
    font-weight: 600;
    white-space: nowrap;   /* 날짜 한 줄 */
  }

  a.bible { text-decoration: none; color: #0044aa; cursor: pointer; }
  a.bible.read { color: #888; text-decoration: line-through; }

  #resetRead {
    display: block;
    margin: 24px auto 30px;
    padding: 6px 14px;
    font-size: 13px;
  }

  footer {
    text-align: center;
    font-size: 12px;
    color: #666;
    margin: 20px 0 30px 0;
    border-top: 1px solid #ccc;
    padding-top: 10px;
  }

  .month-block { margin-bottom: 40px; page-break-inside: avoid; }

  /* 모바일 화면용: 표 글자 2배(40px) */
  @media (max-width: 600px) {
    body { font-size: 18px; }
    h3 { font-size: 28px; }
    table { font-size: 40px; }
    th, td { padding: 8px 4px; }
  }
</style>
</head>
<body>
<h3>*^^* 오킹이 만든 맥체인 성경읽기표 ^^"</h3>

<p style="margin:0 0 6px 0; font-size:12px; color:#666;">
  성경 본문 저작권 © 대한성서공회. 이 페이지는 성경 본문을 저장·복제하지 않고, 
  <br> 대한성서공회 공식 사이트로의 링크만 제공합니다.
</p>

<p>· 개역개정(대한성서공회) 링크 연결<br>
· 각 본문 클릭 시 새 탭으로 성경 열림 + “읽음(회색/취소선)” 상태가 동일 브라우저에 저장됨<br>
· 다른 브라우저 또는 다른 기기에서 열면 읽음 표시는 새로 시작</p>

<div id="plans"></div>

<button id="resetRead">읽음 표시 전체 초기화</button>

<footer>
  copyright © 2025 Oking Kwon.<br> No rights reserved.
</footer>

<script>
// 대한성서공회 코드 -> 한글 약어
const BOOKS = {
  "gen": "창", "exo": "출", "lev": "레", "num": "민", "deu": "신",
  "jos": "수", "jdg": "삿", "rut": "룻",
  "1sa": "삼상", "2sa": "삼하",
  "1ki": "왕상", "2ki": "왕하",
  "1ch": "대상", "2ch": "대하",
  "ezr": "스", "neh": "느", "est": "에",
  "job": "욥", "psa": "시", "pro": "잠", "ecc": "전", "sng": "아",
  "isa": "사", "jer": "렘", "lam": "애", "eze": "겔", "dan": "단",
  "hos": "호", "joe": "욜", "amo": "암", "oba": "옵", "jon": "욘",
  "mic": "미", "nah": "나", "hab": "합", "zep": "습", "hag": "학", "zec": "슥", "mal": "말",
  "mat": "마", "mrk": "막", "luk": "눅", "joh": "요",
  "act": "행", "rom": "롬",
  "1co": "고전", "2co": "고후",
  "gal": "갈", "eph": "엡", "php": "빌", "col": "골",
  "1th": "살전", "2th": "살후",
  "1ti": "딤전", "2ti": "딤후",
  "tit": "딛", "phm": "몬", "heb": "히",
  "jas": "약",
  "1pe": "벧전", "2pe": "벧후",
  "1jn": "요일1", "2jn": "요일2", "3jn": "요일3",
  "jud": "유", "rev": "계"
};

// 맥체인 전체 계획
const plan = {
 1: [
    [["gen","1"],["mat","1"],["ezr","1"],["act","1"]],
    [["gen","2"],["mat","2"],["ezr","2"],["act","2"]],
    [["gen","3"],["mat","3"],["ezr","3"],["act","3"]],
    [["gen","4"],["mat","4"],["ezr","4"],["act","4"]],
    [["gen","5"],["mat","5"],["ezr","5"],["act","5"]],
    [["gen","6"],["mat","6"],["ezr","6"],["act","6"]],
    [["gen","7"],["mat","7"],["ezr","7"],["act","7"]],
    [["gen","8"],["mat","8"],["ezr","8"],["act","8"]],
    [["gen","9-10"],["mat","9"],["ezr","9"],["act","9"]],
    [["gen","11"],["mat","10"],["ezr","10"],["act","10"]],
    [["gen","12"],["mat","11"],["neh","1"],["act","11"]],
    [["gen","13"],["mat","12"],["neh","2"],["act","12"]],
    [["gen","14"],["mat","13"],["neh","3"],["act","13"]],
    [["gen","15"],["mat","14"],["neh","4"],["act","14"]],
    [["gen","16"],["mat","15"],["neh","5"],["act","15"]],
    [["gen","17"],["mat","16"],["neh","6"],["act","16"]],
    [["gen","18"],["mat","17"],["neh","7"],["act","17"]],
    [["gen","19"],["mat","18"],["neh","8"],["act","18"]],
    [["gen","20"],["mat","19"],["neh","9"],["act","19"]],
    [["gen","21"],["mat","20"],["neh","10"],["act","20"]],
    [["gen","22"],["mat","21"],["neh","11"],["act","21"]],
    [["gen","23"],["mat","22"],["neh","12"],["act","22"]],
    [["gen","24"],["mat","23"],["neh","13"],["act","23"]],
    [["gen","25"],["mat","24"],["est","1"],["act","24"]],
    [["gen","26"],["mat","25"],["est","2"],["act","25"]],
    [["gen","27"],["mat","26"],["est","3"],["act","26"]],
    [["gen","28"],["mat","27"],["est","4"],["act","27"]],
    [["gen","29"],["mat","28"],["est","5"],["act","28"]],
    [["gen","30"],["mrk","1"],["est","6"],["rom","1"]],
    [["gen","31"],["mrk","2"],["est","7"],["rom","2"]],
    [["gen","32"],["mrk","3"],["est","8"],["rom","3"]]
  ],
 2: [
    [["gen","33"],["mrk","4"],["est","9-10"],["rom","4"]],
    [["gen","34"],["mrk","5"],["job","1"],["rom","5"]],
    [["gen","35-36"],["mrk","6"],["job","2"],["rom","6"]],
    [["gen","37"],["mrk","7"],["job","3"],["rom","7"]],
    [["gen","38"],["mrk","8"],["job","4"],["rom","8"]],
    [["gen","39"],["mrk","9"],["job","5"],["rom","9"]],
    [["gen","40"],["mrk","10"],["job","6"],["rom","10"]],
    [["gen","41"],["mrk","11"],["job","7"],["rom","11"]],
    [["gen","42"],["mrk","12"],["job","8"],["rom","12"]],
    [["gen","43"],["mrk","13"],["job","9"],["rom","13"]],
    [["gen","44"],["mrk","14"],["job","10"],["rom","14"]],
    [["gen","45"],["mrk","15"],["job","11"],["rom","15"]],
    [["gen","46"],["mrk","16"],["job","12"],["rom","16"]],
    [["gen","47"],["luk","1:1-38"],["job","13"],["1co","1"]],
    [["gen","48"],["luk","1:39-80"],["job","14"],["1co","2"]],
    [["gen","49"],["luk","2"],["job","15"],["1co","3"]],
    [["gen","50"],["luk","3"],["job","16-17"],["1co","4"]],
    [["exo","1"],["luk","4"],["job","18"],["1co","5"]],
    [["exo","2"],["luk","5"],["job","19"],["1co","6"]],
    [["exo","3"],["luk","6"],["job","20"],["1co","7"]],
    [["exo","4"],["luk","7"],["job","21"],["1co","8"]],
    [["exo","5"],["luk","8"],["job","22"],["1co","9"]],
    [["exo","6"],["luk","9"],["job","23"],["1co","10"]],
    [["exo","7"],["luk","10"],["job","24"],["1co","11"]],
    [["exo","8"],["luk","11"],["job","25-26"],["1co","12"]],
    [["exo","9"],["luk","12"],["job","27"],["1co","13"]],
    [["exo","10"],["luk","13"],["job","28"],["1co","14"]],
    [["exo","11-12:1-21"],["luk","14"],["job","29"],["1co","15"]]
  ],
 3: [
    [["exo","12:22-51"],["luk","15"],["job","30"],["1co","16"]],
    [["exo","13"],["luk","16"],["job","31"],["2co","1"]],
    [["exo","14"],["luk","17"],["job","32"],["2co","2"]],
    [["exo","15"],["luk","18"],["job","33"],["2co","3"]],
    [["exo","16"],["luk","19"],["job","34"],["2co","4"]],
    [["exo","17"],["luk","20"],["job","35"],["2co","5"]],
    [["exo","18"],["luk","21"],["job","36"],["2co","6"]],
    [["exo","19"],["luk","22"],["job","37"],["2co","7"]],
    [["exo","20"],["luk","23"],["job","38"],["2co","8"]],
    [["exo","21"],["luk","24"],["job","39"],["2co","9"]],
    [["exo","22"],["joh","1"],["job","40"],["2co","10"]],
    [["exo","23"],["joh","2"],["job","41"],["2co","11"]],
    [["exo","24"],["joh","3"],["job","42"],["2co","12"]],
    [["exo","25"],["joh","4"],["pro","1"],["2co","13"]],
    [["exo","26"],["joh","5"],["pro","2"],["gal","1"]],
    [["exo","27"],["joh","6"],["pro","3"],["gal","2"]],
    [["exo","28"],["joh","7"],["pro","4"],["gal","3"]],
    [["exo","29"],["joh","8"],["pro","5"],["gal","4"]],
    [["exo","30"],["joh","9"],["pro","6"],["gal","5"]],
    [["exo","31"],["joh","10"],["pro","7"],["gal","6"]],
    [["exo","32"],["joh","11"],["pro","8"],["eph","1"]],
    [["exo","33"],["joh","12"],["pro","9"],["eph","2"]],
    [["exo","34"],["joh","13"],["pro","10"],["eph","3"]],
    [["exo","35"],["joh","14"],["pro","11"],["eph","4"]],
    [["exo","36"],["joh","15"],["pro","12"],["eph","5"]],
    [["exo","37"],["joh","16"],["pro","13"],["eph","6"]],
    [["exo","38"],["joh","17"],["pro","14"],["php","1"]],
    [["exo","39"],["joh","18"],["pro","15"],["php","2"]],
    [["exo","40"],["joh","19"],["pro","16"],["php","3"]],
    [["lev","1"],["joh","20"],["pro","17"],["php","4"]],
    [["lev","2-3"],["joh","21"],["pro","18"],["col","1"]]
  ],
 4: [
    [["lev","4"],["psa","1-2"],["pro","19"],["col","2"]],
    [["lev","5"],["psa","3-4"],["pro","20"],["col","3"]],
    [["lev","6"],["psa","5-6"],["pro","21"],["col","4"]],
    [["lev","7"],["psa","7-8"],["pro","22"],["1th","1"]],
    [["lev","8"],["psa","9"],["pro","23"],["1th","2"]],
    [["lev","9"],["psa","10"],["pro","24"],["1th","3"]],
    [["lev","10"],["psa","11-12"],["pro","25"],["1th","4"]],
    [["lev","11-12"],["psa","13-14"],["pro","26"],["1th","5"]],
    [["lev","13"],["psa","15-16"],["pro","27"],["2th","1"]],
    [["lev","14"],["psa","17"],["pro","28"],["2th","2"]],
    [["lev","15"],["psa","18"],["pro","29"],["2th","3"]],
    [["lev","16"],["psa","19"],["pro","30"],["1ti","1"]],
    [["lev","17"],["psa","20-21"],["pro","31"],["1ti","2"]],
    [["lev","18"],["psa","22"],["ecc","1"],["1ti","3"]],
    [["lev","19"],["psa","23-24"],["ecc","2"],["1ti","4"]],
    [["lev","20"],["psa","25"],["ecc","3"],["1ti","5"]],
    [["lev","21"],["psa","26-27"],["ecc","4"],["1ti","6"]],
    [["lev","22"],["psa","28-29"],["ecc","5"],["2ti","1"]],
    [["lev","23"],["psa","30"],["ecc","6"],["2ti","2"]],
    [["lev","24"],["psa","31"],["ecc","7"],["2ti","3"]],
    [["lev","25"],["psa","32"],["ecc","8"],["2ti","4"]],
    [["lev","26"],["psa","33"],["ecc","9"],["tit","1"]],
    [["lev","27"],["psa","34"],["ecc","10"],["tit","2"]],
    [["num","1"],["psa","35"],["ecc","11"],["tit","3"]],
    [["num","2"],["psa","36"],["ecc","12"],["phm","1"]],
    [["num","3"],["psa","37"],["sng","1"],["heb","1"]],
    [["num","4"],["psa","38"],["sng","2"],["heb","2"]],
    [["num","5"],["psa","39"],["sng","3"],["heb","3"]],
    [["num","6"],["psa","40-41"],["sng","4"],["heb","4"]],
    [["num","7"],["psa","42-43"],["sng","5"],["heb","5"]]
  ],
 5: [
    [["num","8"],["psa","44"],["sng","6"],["heb","6"]],
    [["num","9"],["psa","45"],["sng","7"],["heb","7"]],
    [["num","10"],["psa","46-47"],["sng","8"],["heb","8"]],
    [["num","11"],["psa","48"],["isa","1"],["heb","9"]],
    [["num","12-13"],["psa","49"],["isa","2"],["heb","10"]],
    [["num","14"],["psa","50"],["isa","3-4"],["heb","11"]],
    [["num","15"],["psa","51"],["isa","5"],["heb","12"]],
    [["num","16"],["psa","52-54"],["isa","6"],["heb","13"]],
    [["num","17-18"],["psa","55"],["isa","7"],["jas","1"]],
    [["num","19"],["psa","56-57"],["isa","8"],["jas","2"]],
    [["num","20"],["psa","58-59"],["isa","9"],["jas","3"]],
    [["num","21"],["psa","60-61"],["isa","10"],["jas","4"]],
    [["num","22"],["psa","62-63"],["isa","11-12"],["jas","5"]],
    [["num","23"],["psa","64-65"],["isa","13"],["1pe","1"]],
    [["num","24"],["psa","66-67"],["isa","14"],["1pe","2"]],
    [["num","25"],["psa","68"],["isa","15"],["1pe","3"]],
    [["num","26"],["psa","69"],["isa","16"],["1pe","4"]],
    [["num","27"],["psa","70-71"],["isa","17-18"],["1pe","5"]],
    [["num","28"],["psa","72"],["isa","19-20"],["2pe","1"]],
    [["num","29"],["psa","73"],["isa","21"],["2pe","2"]],
    [["num","30"],["psa","74"],["isa","22"],["2pe","3"]],
    [["num","31"],["psa","75-76"],["isa","23"],["1jn","1"]],
    [["num","32"],["psa","77"],["isa","24"],["1jn","2"]],
    [["num","33"],["psa","78:1-39"],["isa","25"],["1jn","3"]],
    [["num","34"],["psa","78:40-72"],["isa","26"],["1jn","4"]],
    [["num","35"],["psa","79"],["isa","27"],["1jn","5"]],
    [["num","36"],["psa","80"],["isa","28"],["2jn","1"]],
    [["deu","1"],["psa","81-82"],["isa","29"],["3jn","1"]],
    [["deu","2"],["psa","83-84"],["isa","30"],["jud","1"]],
    [["deu","3"],["psa","85"],["isa","31"],["rev","1"]],
    [["deu","4"],["psa","86-87"],["isa","32"],["rev","2"]]
  ],
 6: [
    [["deu","5"],["psa","88"],["isa","33"],["rev","3"]],
    [["deu","6"],["psa","89"],["isa","34"],["rev","4"]],
    [["deu","7"],["psa","90"],["isa","35"],["rev","5"]],
    [["deu","8"],["psa","91"],["isa","36"],["rev","6"]],
    [["deu","9"],["psa","92-93"],["isa","37"],["rev","7"]],
    [["deu","10"],["psa","94"],["isa","38"],["rev","8"]],
    [["deu","11"],["psa","95-96"],["isa","39"],["rev","9"]],
    [["deu","12"],["psa","97-98"],["isa","40"],["rev","10"]],
    [["deu","13-14"],["psa","99-101"],["isa","41"],["rev","11"]],
    [["deu","15"],["psa","102"],["isa","42"],["rev","12"]],
    [["deu","16"],["psa","103"],["isa","43"],["rev","13"]],
    [["deu","17"],["psa","104"],["isa","44"],["rev","14"]],
    [["deu","18"],["psa","105"],["isa","45"],["rev","15"]],
    [["deu","19"],["psa","106"],["isa","46"],["rev","16"]],
    [["deu","20"],["psa","107"],["isa","47"],["rev","17"]],
    [["deu","21"],["psa","108-109"],["isa","48"],["rev","18"]],
    [["deu","22"],["psa","110-111"],["isa","49"],["rev","19"]],
    [["deu","23"],["psa","112-113"],["isa","50"],["rev","20"]],
    [["deu","24"],["psa","114-115"],["isa","51"],["rev","21"]],
    [["deu","25"],["psa","116"],["isa","52"],["rev","22"]],
    [["deu","26"],["psa","117-118"],["isa","53"],["mat","1"]],
    [["deu","27"],["psa","119:1-24"],["isa","54"],["mat","2"]],
    [["deu","28"],["psa","119:25-48"],["isa","55"],["mat","3"]],
    [["deu","29"],["psa","119:49-72"],["isa","56"],["mat","4"]],
    [["deu","30"],["psa","119:73-96"],["isa","57"],["mat","5"]],
    [["deu","31"],["psa","119:97-120"],["isa","58"],["mat","6"]],
    [["deu","32"],["psa","119:121-144"],["isa","59"],["mat","7"]],
    [["deu","33-34"],["psa","119:145-176"],["isa","60"],["mat","8"]],
    [["jos","1"],["psa","120-122"],["isa","61"],["mat","9"]],
    [["jos","2"],["psa","123-125"],["isa","62"],["mat","10"]]
  ],
 7: [
    [["jos","3"],["psa","126-128"],["isa","63"],["mat","11"]],
    [["jos","4"],["psa","129-131"],["isa","64"],["mat","12"]],
    [["jos","5"],["psa","132-134"],["isa","65"],["mat","13"]],
    [["jos","6"],["psa","135-136"],["isa","66"],["mat","14"]],
    [["jos","7"],["psa","137-138"],["jer","1"],["mat","15"]],
    [["jos","8"],["psa","139"],["jer","2"],["mat","16"]],
    [["jos","9"],["psa","140-141"],["jer","3"],["mat","17"]],
    [["jos","10"],["psa","142-143"],["jer","4"],["mat","18"]],
    [["jos","11"],["psa","144"],["jer","5"],["mat","19"]],
    [["jos","12-13"],["psa","145"],["jer","6"],["mat","20"]],
    [["jos","14-15"],["psa","146-147"],["jer","7"],["mat","21"]],
    [["jos","16-17"],["psa","148"],["jer","8"],["mat","22"]],
    [["jos","18-19"],["psa","149-150"],["jer","9"],["mat","23"]],
    [["jos","20-21"],["act","1"],["jer","10"],["mat","24"]],
    [["jos","22"],["act","2"],["jer","11"],["mat","25"]],
    [["jos","23"],["act","3"],["jer","12"],["mat","26"]],
    [["jos","24"],["act","4"],["jer","13"],["mat","27"]],
    [["jdg","1"],["act","5"],["jer","14"],["mat","28"]],
    [["jdg","2"],["act","6"],["jer","15"],["mrk","1"]],
    [["jdg","3"],["act","7"],["jer","16"],["mrk","2"]],
    [["jdg","4"],["act","8"],["jer","17"],["mrk","3"]],
    [["jdg","5"],["act","9"],["jer","18"],["mrk","4"]],
    [["jdg","6"],["act","10"],["jer","19"],["mrk","5"]],
    [["jdg","7"],["act","11"],["jer","20"],["mrk","6"]],
    [["jdg","8"],["act","12"],["jer","21"],["mrk","7"]],
    [["jdg","9"],["act","13"],["jer","22"],["mrk","8"]],
    [["jdg","10"],["act","14"],["jer","23"],["mrk","9"]],
    [["jdg","11"],["act","15"],["jer","24"],["mrk","10"]],
    [["jdg","12"],["act","16"],["jer","25"],["mrk","11"]],
    [["jdg","13"],["act","17"],["jer","26"],["mrk","12"]],
    [["jdg","14"],["act","18"],["jer","27"],["mrk","13"]]
  ],
 8: [
    [["jdg","15"],["act","19"],["jer","28"],["mrk","14"]],
    [["jdg","16"],["act","20"],["jer","29"],["mrk","15"]],
    [["jdg","17"],["act","21"],["jer","30-31"],["mrk","16"]],
    [["jdg","18"],["act","22"],["jer","32"],["luk","1"]],
    [["jdg","19"],["act","23"],["jer","33"],["luk","2"]],
    [["jdg","20"],["act","24"],["jer","34"],["luk","3"]],
    [["jdg","21"],["act","25"],["jer","35"],["luk","4"]],
    [["rut","1"],["act","26"],["jer","36"],["luk","5"]],
    [["rut","2"],["act","27"],["jer","37"],["luk","6"]],
    [["rut","3-4"],["act","28"],["jer","38"],["luk","7"]],
    [["1sa","1"],["rom","1"],["jer","39"],["luk","8"]],
    [["1sa","2"],["rom","2"],["jer","40"],["luk","9"]],
    [["1sa","3"],["rom","3"],["jer","41"],["luk","10"]],
    [["1sa","4"],["rom","4"],["jer","42"],["luk","11"]],
    [["1sa","5-6"],["rom","5"],["jer","43"],["luk","12"]],
    [["1sa","7-8"],["rom","6"],["jer","44-45"],["luk","13"]],
    [["1sa","9"],["rom","7"],["jer","46"],["luk","14"]],
    [["1sa","10"],["rom","8"],["jer","47"],["luk","15"]],
    [["1sa","11"],["rom","9"],["jer","48"],["luk","16"]],
    [["1sa","12"],["rom","10"],["jer","49"],["luk","17"]],
    [["1sa","13"],["rom","11"],["jer","50"],["luk","18"]],
    [["1sa","14"],["rom","12"],["jer","51"],["luk","19"]],
    [["1sa","15"],["rom","13"],["jer","52"],["luk","20"]],
    [["1sa","16"],["rom","14"],["lam","1"],["luk","21"]],
    [["1sa","17"],["rom","15"],["lam","2"],["luk","22"]],
    [["1sa","18"],["rom","16"],["lam","3"],["luk","23"]],
    [["1sa","19"],["1co","1"],["lam","4"],["luk","24"]],
    [["1sa","20"],["1co","2"],["lam","5"],["joh","1"]],
    [["1sa","21-22"],["1co","3"],["eze","1"],["joh","2"]],
    [["1sa","23"],["1co","4"],["eze","2"],["joh","3"]],
    [["1sa","24"],["1co","5"],["eze","3"],["joh","4"]]
  ],
 9: [
    [["1sa","25"],["1co","6"],["eze","4"],["joh","5"]],
    [["1sa","26"],["1co","7"],["eze","5"],["joh","6"]],
    [["1sa","27"],["1co","8"],["eze","6"],["joh","7"]],
    [["1sa","28"],["1co","9"],["eze","7"],["joh","8"]],
    [["1sa","29-30"],["1co","10"],["eze","8"],["joh","9"]],
    [["1sa","31"],["1co","11"],["eze","9"],["joh","10"]],
    [["2sa","1"],["1co","12"],["eze","10"],["joh","11"]],
    [["2sa","2"],["1co","13"],["eze","11"],["joh","12"]],
    [["2sa","3"],["1co","14"],["eze","12"],["joh","13"]],
    [["2sa","4-5"],["1co","15"],["eze","13"],["joh","14"]],
    [["2sa","6"],["1co","16"],["eze","14"],["joh","15"]],
    [["2sa","7"],["2co","1"],["eze","15"],["joh","16"]],
    [["2sa","8-9"],["2co","2"],["eze","16"],["joh","17"]],
    [["2sa","10"],["2co","3"],["eze","17"],["joh","18"]],
    [["2sa","11"],["2co","4"],["eze","18"],["joh","19"]],
    [["2sa","12"],["2co","5"],["eze","19"],["joh","20"]],
    [["2sa","13"],["2co","6"],["eze","20"],["joh","21"]],
    [["2sa","14"],["2co","7"],["eze","21"],["psa","1-2"]],
    [["2sa","15"],["2co","8"],["eze","22"],["psa","3-4"]],
    [["2sa","16"],["2co","9"],["eze","23"],["psa","5-6"]],
    [["2sa","17"],["2co","10"],["eze","24"],["psa","7-8"]],
    [["2sa","18"],["2co","11"],["eze","25"],["psa","9"]],
    [["2sa","19"],["2co","12"],["eze","26"],["psa","10"]],
    [["2sa","20"],["2co","13"],["eze","27"],["psa","11-12"]],
    [["2sa","21"],["gal","1"],["eze","28"],["psa","13-14"]],
    [["2sa","22"],["gal","2"],["eze","29"],["psa","15-16"]],
    [["2sa","23"],["gal","3"],["eze","30"],["psa","17"]],
    [["2sa","24"],["gal","4"],["eze","31"],["psa","18"]],
    [["1ki","1"],["gal","5"],["eze","32"],["psa","19"]],
    [["1ki","2"],["gal","6"],["eze","33"],["psa","20-21"]]
  ],
 10: [
    [["1ki","3"],["eph","1"],["eze","34"],["psa","22"]],
    [["1ki","4-5"],["eph","2"],["eze","35"],["psa","23-24"]],
    [["1ki","6"],["eph","3"],["eze","36"],["psa","25"]],
    [["1ki","7"],["eph","4"],["eze","37"],["psa","26-27"]],
    [["1ki","8"],["eph","5"],["eze","38"],["psa","28-29"]],
    [["1ki","9"],["eph","6"],["eze","39"],["psa","30"]],
    [["1ki","10"],["php","1"],["eze","40"],["psa","31"]],
    [["1ki","11"],["php","2"],["eze","41"],["psa","32"]],
    [["1ki","12"],["php","3"],["eze","42"],["psa","33"]],
    [["1ki","13"],["php","4"],["eze","43"],["psa","34"]],
    [["1ki","14"],["col","1"],["eze","44"],["psa","35"]],
    [["1ki","15"],["col","2"],["eze","45"],["psa","36"]],
    [["1ki","16"],["col","3"],["eze","46"],["psa","37"]],
    [["1ki","17"],["col","4"],["eze","47"],["psa","38"]],
    [["1ki","18"],["1th","1"],["eze","48"],["psa","39"]],
    [["1ki","19"],["1th","2"],["dan","1"],["psa","40-41"]],
    [["1ki","20"],["1th","3"],["dan","2"],["psa","42-43"]],
    [["1ki","21"],["1th","4"],["dan","3"],["psa","44"]],
    [["1ki","22"],["1th","5"],["dan","4"],["psa","45"]],
    [["2ki","1"],["2th","1"],["dan","5"],["psa","46-47"]],
    [["2ki","2"],["2th","2"],["dan","6"],["psa","48"]],
    [["2ki","3"],["2th","3"],["dan","7"],["psa","49"]],
    [["2ki","4"],["1ti","1"],["dan","8"],["psa","50"]],
    [["2ki","5"],["1ti","2"],["dan","9"],["psa","51"]],
    [["2ki","6"],["1ti","3"],["dan","10"],["psa","52-54"]],
    [["2ki","7"],["1ti","4"],["dan","11"],["psa","55"]],
    [["2ki","8"],["1ti","5"],["dan","12"],["psa","56-57"]],
    [["2ki","9"],["1ti","6"],["hos","1"],["psa","58-59"]],
    [["2ki","10-11"],["2ti","1"],["hos","2"],["psa","60-61"]],
    [["2ki","12"],["2ti","2"],["hos","3-4"],["psa","62-63"]],
    [["2ki","13"],["2ti","3"],["hos","5-6"],["psa","64-65"]]
  ],
 11: [
    [["2ki","14"],["2ti","4"],["hos","7"],["psa","66-67"]],
    [["2ki","15"],["tit","1"],["hos","8"],["psa","68"]],
    [["2ki","16"],["tit","2"],["hos","9"],["psa","69"]],
    [["2ki","17"],["tit","3"],["hos","10"],["psa","70-71"]],
    [["2ki","18"],["phm","1"],["hos","11"],["psa","72"]],
    [["2ki","19"],["heb","1"],["hos","12"],["psa","73"]],
    [["2ki","20"],["heb","2"],["hos","13"],["psa","74"]],
    [["2ki","21"],["heb","3"],["hos","14"],["psa","75-76"]],
    [["2ki","22"],["heb","4"],["joe","1"],["psa","77"]],
    [["2ki","23"],["heb","5"],["joe","2"],["psa","78"]],
    [["2ki","24"],["heb","6"],["joe","3"],["psa","79"]],
    [["2ki","25"],["heb","7"],["amo","1"],["psa","80"]],
    [["1ch","1-2"],["heb","8"],["amo","2"],["psa","81-82"]],
    [["1ch","3-4"],["heb","9"],["amo","3"],["psa","83-84"]],
    [["1ch","5-6"],["heb","10"],["amo","4"],["psa","85"]],
    [["1ch","7-8"],["heb","11"],["amo","5"],["psa","86"]],
    [["1ch","9-10"],["heb","12"],["amo","6"],["psa","87-88"]],
    [["1ch","11-12"],["heb","13"],["amo","7"],["psa","89"]],
    [["1ch","13-14"],["jas","1"],["amo","8"],["psa","90"]],
    [["1ch","15"],["jas","2"],["amo","9"],["psa","91"]],
    [["1ch","16"],["jas","3"],["oba","1"],["psa","92-93"]],
    [["1ch","17"],["jas","4"],["jon","1"],["psa","94"]],
    [["1ch","18"],["jas","5"],["jon","2"],["psa","95-96"]],
    [["1ch","19-20"],["1pe","1"],["jon","3"],["psa","97-98"]],
    [["1ch","21"],["1pe","2"],["jon","4"],["psa","99-101"]],
    [["1ch","22"],["1pe","3"],["mic","1"],["psa","102"]],
    [["1ch","23"],["1pe","4"],["mic","2"],["psa","103"]],
    [["1ch","24-25"],["1pe","5"],["mic","3"],["psa","104"]],
    [["1ch","26-27"],["2pe","1"],["mic","4"],["psa","105"]],
    [["1ch","28"],["2pe","2"],["mic","5"],["psa","106"]]
  ],
 12: [
    [["1ch","29"],["2pe","3"],["mic","6"],["psa","107"]],
    [["2ch","1"],["1jn","1"],["mic","7"],["psa","108-109"]],
    [["2ch","2"],["1jn","2"],["nah","1"],["psa","110-111"]],
    [["2ch","3-4"],["1jn","3"],["nah","2"],["psa","112-113"]],
    [["2ch","5"],["1jn","4"],["nah","3"],["psa","114-115"]],
    [["2ch","6"],["1jn","5"],["hab","1"],["psa","116"]],
    [["2ch","7"],["2jn","1"],["hab","2"],["psa","117-118"]],
    [["2ch","8"],["3jn","1"],["hab","3"],["psa","119:1-24"]],
    [["2ch","9"],["jud","1"],["zep","1"],["psa","119:25-48"]],
    [["2ch","10"],["rev","1"],["zep","2"],["psa","119:49-72"]],
    [["2ch","11-12"],["rev","2"],["zep","3"],["psa","119:73-96"]],
    [["2ch","13"],["rev","3"],["hag","1"],["psa","119:97-120"]],
    [["2ch","14-15"],["rev","4"],["hag","2"],["psa","119:121-144"]],
    [["2ch","16"],["rev","5"],["zec","1"],["psa","119:145-176"]],
    [["2ch","17"],["rev","6"],["zec","2"],["psa","120-122"]],
    [["2ch","18"],["rev","7"],["zec","3"],["psa","123-125"]],
    [["2ch","19-20"],["rev","8"],["zec","4"],["psa","126-128"]],
    [["2ch","21"],["rev","9"],["zec","5"],["psa","129-131"]],
    [["2ch","22-23"],["rev","10"],["zec","6"],["psa","132-134"]],
    [["2ch","24"],["rev","11"],["zec","7"],["psa","135-136"]],
    [["2ch","25"],["rev","12"],["zec","8"],["psa","137-138"]],
    [["2ch","26"],["rev","13"],["zec","9"],["psa","139"]],
    [["2ch","27-28"],["rev","14"],["zec","10"],["psa","140-141"]],
    [["2ch","29"],["rev","15"],["zec","11"],["psa","142"]],
    [["2ch","30"],["rev","16"],["zec","12"],["psa","143"]],
    [["2ch","31"],["rev","17"],["zec","13"],["psa","144"]],
    [["2ch","32"],["rev","18"],["zec","14"],["psa","145"]],
    [["2ch","33"],["rev","19"],["mal","1"],["psa","146-147"]],
    [["2ch","34"],["rev","20"],["mal","2"],["psa","148"]],
    [["2ch","35"],["rev","21"],["mal","3"],["psa","149"]],
    [["2ch","36"],["rev","22"],["mal","4"],["psa","150"]]
  ]
};

// localStorage 안전 래퍼
function lsGet(key) {
  try {
    if (window.localStorage) return localStorage.getItem(key);
  } catch (e) {}
  return null;
}
function lsSet(key, val) {
  try {
    if (window.localStorage) localStorage.setItem(key, val);
  } catch (e) {}
}
function lsClearMcheyne() {
  try {
    if (!window.localStorage) return;
    const keys = [];
    for (let i = 0; i < localStorage.length; i++) {
      const k = localStorage.key(i);
      if (k && k.startsWith("mcheyne_read_")) keys.push(k);
    }
    keys.forEach(k => localStorage.removeItem(k));
  } catch (e) {}
}

// chapSpec에서 장 번호 추출
function extractChap(spec) {
  const m = String(spec).match(/^(\d+)/);
  return m ? m[1] : "1";
}

// 본문 링크 셀 생성
function makeCell(bookCode, chapSpec, id) {
  const a = document.createElement('a');
  a.className = 'bible';
  a.dataset.book = bookCode;
  a.dataset.chapSpec = chapSpec;
  a.dataset.id = id;

  a.textContent =
    (BOOKS[bookCode] || bookCode) + " " +
    (/^\d+$/.test(chapSpec) ? chapSpec + "장" : chapSpec);

  const chap = extractChap(chapSpec);
  const url =
    "https://www.bskorea.or.kr/bible/korbibReadpage.php"
    + "?version=GAE&book=" + encodeURIComponent(bookCode)
    + "&chap=" + encodeURIComponent(chap)
    + "&sec=1&range=all&keyword1=";
  a.href = url;
  a.target = "_blank";

  const key = "mcheyne_read_" + id;
  if (lsGet(key) === "1") {
    a.classList.add("read");
  }

  a.addEventListener('click', function () {
    this.classList.toggle('read');
    const v = this.classList.contains('read') ? "1" : "0";
    lsSet(key, v);
  });

  return a;
}

// 렌더링
(function render() {
  const root = document.getElementById('plans');

  Object.keys(plan).sort((a,b)=>Number(a)-Number(b)).forEach(mStr => {
    const month = Number(mStr);
    const days = plan[month];

    const wrap = document.createElement('div');
    wrap.className = 'month-block';

    const h2 = document.createElement('h2');
    h2.textContent = month + "월";
    wrap.appendChild(h2);

    const table = document.createElement('table');
    const thead = document.createElement('thead');
    thead.innerHTML =
      "<tr><th>날짜</th><th>1</th><th>2</th><th>3</th><th>4</th></tr>";
    table.appendChild(thead);

    const tbody = document.createElement('tbody');

    days.forEach((dayArr, dayIdx) => {
      const tr = document.createElement('tr');

      const tdDate = document.createElement('td');
      tdDate.className = "date";
      tdDate.textContent = (dayIdx + 1);
      tr.appendChild(tdDate);

      for (let i = 0; i < 4; i++) {
        const [bookCode, chapSpec] = dayArr[i];
        const td = document.createElement('td');
        const id = month + "-" + (dayIdx + 1) + "-" + (i + 1);
        td.appendChild(makeCell(bookCode, chapSpec, id));
        tr.appendChild(td);
      }

      tbody.appendChild(tr);
    });

    table.appendChild(tbody);
    wrap.appendChild(table);
    root.appendChild(wrap);
  });
})();

// 읽음 표시 전체 초기화
document.getElementById('resetRead').addEventListener('click', function () {
  if (!confirm('모든 읽음 표시를 초기화할까요?')) return;

  document.querySelectorAll('a.bible.read').forEach(a => {
    a.classList.remove('read');
  });

  lsClearMcheyne();
});
</script>
</body>
</html>
